<div class="signup-page">
  <div class="signup-container">

    <div class="form-section">
      <div class="form-header">
        <!-- <img src="assets/images/diplogo.png" alt="Brand Logo" class="logo" /> -->
        <h2>Create an Account</h2>
        <p>Start your journey with a smart workspace</p>
      </div>

      <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
        <div class="form-group" >
          <label>Full Name</label>
          <div class="input-icon">
            <i class="bi bi-person"></i>
            <input type="text" formControlName="userName" placeholder="John Doe" />
          </div>
          <small *ngIf="isFieldRequired('userName')" class="error">Full Name is required.</small>
        </div>

        <div class="form-group">
          <label>Email Address</label>
          <div class="input-icon">
            <i class="bi bi-envelope"></i>
            <input type="email" formControlName="emailId" [disabled]="isMicrosoftLogin"
              placeholder="email@example.com" />
          </div>
          <small *ngIf="isFieldRequired('emailId')" class="error">Email is required.</small>
          <small *ngIf="isEmailInvalid()" class="error">Enter a valid email address.</small>
        </div>

        <div class="form-group">
          <label>Phone Number</label>
          <div class="input-icon">
            <i class="bi bi-telephone"></i>
            <input type="tel" formControlName="contactNo" placeholder="9876543210" inputIntegerValidator />
          </div>
          <small *ngIf="isFieldRequired('contactNo')" class="error">Phone number is required.</small>
        </div>

        <div class="form-group">
          <label>Organisation</label>
          <ng-select [items]="filteredOrganisations" bindLabel="organisation" bindValue="organisation"
            [searchable]="true" placeholder="Search organisation..." formControlName="organisation"
            (search)="onSearchOrganisation($event)">
          </ng-select>
        </div>

        <div class="form-group">
          <label>Designation</label>
          <div class="input-icon">
            <i class="bi bi-briefcase"></i>
            <input type="text" formControlName="designation" placeholder="Your Role" />
          </div>
          <small *ngIf="isFieldRequired('designation')" class="error">Designation is required.</small>
        </div>

        <button type="submit" class="submit-btn" [disabled]="!signUpForm.valid">Sign Up</button>
        <p class="redirect">Already have an account? <a href="/auth/login">Log In</a></p>
      </form>
    </div>

    <div class="preview-section">
      <div class="image-carousel">
        <img *ngFor="let img of carouselImages; let i = index" [src]="img" [class.active]="i === currentImageIndex"
          alt="Preview Image" />
      </div>

      <div class="carousel-dots">
        <span *ngFor="let img of carouselImages; let i = index" [class.active]="i === currentImageIndex" class="dot"
          (click)="currentImageIndex = i"></span>
      </div>

      <div class="caption">
        <h3>Collaborate smarter, faster, better.</h3>
        <p>Join our platform to experience a new level of productivity.</p>
      </div>
    </div>

    <div class="spinner" *ngIf="loadSpinner">Loading...</div>
  </div>