<div class="signup-page">
  <!-- Left Section with Heading and Lottie (matching login design) -->
  <div class="left-panel">
    <div class="branding">
      <h1>Create Your Tick Wiz Account</h1>
      <p>Get started with Tick Wiz â€” your journey to smarter support begins here.</p>
      <iframe src="https://lottie.host/embed/ab232ed7-42ef-4f37-b039-aa151c310bd4/oude8IQNM0.lottie" frameborder="0"
        class="lottie-frame"></iframe>
      <!-- <iframe src="https://lottie.host/embed/acbe168c-3327-4f06-8d3a-077bc01a9700/vHylOeSboy.lottie" frameborder="0"
        class="lottie-frame"></iframe> -->
    </div>
  </div>

  <!-- Right Section with Signup Form -->
  <div class="signup-container">
    <div class="form-section">
      <div class="signup-card">
        <div class="logo-wrapper">
          <img src="assets/images/diplogo.png" alt="Company Logo" />
        </div>
        <h2 class="signup-title">Create an Account</h2>
        <p class="signup-subtitle">Start your journey with a smart workspace</p>

        <div class="form-container">
          <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
            <label>Full Name</label>
            <div class="input-group">
              <i class="bi bi-person"></i>
              <input type="text" formControlName="userName" placeholder="Enter full name" />
            </div>
            <small *ngIf="isFieldRequired('userName')" class="error">Full Name is required.</small>

            <label>Email Address</label>
            <div class="input-group">
              <i class="bi bi-envelope"></i>
              <input type="email" formControlName="emailId" placeholder="Enter email address"
                [disabled]="isMicrosoftLogin" />
            </div>
            <small *ngIf="isFieldRequired('emailId')" class="error">Email is required.</small>
            <small *ngIf="isEmailInvalid()" class="error">Enter a valid email address.</small>

            <label>Phone Number</label>
            <div class="input-group">
              <i class="bi bi-telephone"></i>
              <input type="tel" formControlName="contactNo" placeholder="Enter phone number" inputIntegerValidator />
            </div>
            <small *ngIf="isFieldRequired('contactNo')" class="error">Phone number is required.</small>

            <label>Organisation</label>
            <ng-select [items]="filteredOrganisations" bindLabel="organisation" bindValue="organisation"
              [searchable]="true" placeholder="Search your organisation..." formControlName="organisation"
              (search)="onSearchOrganisation($event)">
            </ng-select>
            <small *ngIf="isFieldRequired('organisation')" class="error">Organisation is required.</small>

            <label>Designation</label>
            <div class="input-group">
              <i class="bi bi-briefcase"></i>
              <input type="text" formControlName="designation" placeholder="Enter your designation" />
            </div>
            <small *ngIf="isFieldRequired('designation')" class="error">Designation is required.</small>

            <button type="submit" class="submit-btn" [disabled]="!signUpForm.valid">Sign Up</button>
            <p class="redirect">Already have an account? <a routerLink="/auth/login">Log In</a></p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="spinner" *ngIf="loadSpinner">Loading...</div>
</div>