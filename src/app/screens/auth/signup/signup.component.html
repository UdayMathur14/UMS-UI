<div class="signup-page">
  <div class="signup-container">

    <!-- Left Preview Section -->
    <div class="preview-section">
      <div class="caption">
        <h3>Tick Wiz</h3>
        <p>Continue your journey with our Ticket Management System</p>
      </div>

      <div class="vector-group">
        <div class="vector-illustration first">
          <img src="assets/images/login.svg" alt="Vector 1" />
        </div>
        <div class="vector-illustration second">
          <img src="assets/images/login-2.svg" alt="Vector 2" />
        </div>
      </div>

      <div class="ticket-actions-grid">
        <div class="action-card"><i class="bi bi-clipboard-data"></i><span>Progress Tracker</span></div>
        <div class="action-card"><i class="bi bi-person-lines-fill"></i><span>User Management</span></div>
        <div class="action-card"><i class="bi bi-bar-chart-line-fill"></i><span>Analytics</span></div>
        <div class="action-card"><i class="bi bi-ticket-detailed-fill"></i><span>Tickets Progress</span></div>
      </div>

      <div class="floating-icons">
        <i class="bi bi-person-fill icon" style="top: 10%; left: 15%;"></i>
        <i class="bi bi-clipboard-data icon" style="top: 30%; left: 70%;"></i>
        <i class="bi bi-person-lines-fill icon" style="top: 50%; left: 40%;"></i>
        <i class="bi bi-bar-chart-line-fill icon" style="top: 75%; left: 20%;"></i>
        <i class="bi bi-ticket-detailed-fill icon" style="top: 85%; left: 80%;"></i>
      </div>

      <div class="floating-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>

      <div class="cosmic-elements">
        <div class="cosmic-ring ring-1"></div>
        <div class="cosmic-ring ring-2"></div>
        <div class="cosmic-ring ring-3"></div>
      </div>
    </div>

    <!-- Right Form Section -->
    <div class="form-section">
      <div class="signup-card">
        <div class="logo-wrapper">
          <img src="assets/images/diplogo.png" alt="Company Logo" />
        </div>
        <h2 class="signup-title">Create an Account</h2>
        <p class="signup-subtitle">Start your journey with a smart workspace</p>

        <div class="form-container">
          <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
            <label>Full Name</label>
            <div class="input-group">
              <i class="bi bi-person"></i>
              <input type="text" formControlName="userName" placeholder="Enter full name" />
            </div>
            <small *ngIf="isFieldRequired('userName')" class="error">Full Name is required.</small>

            <label>Email Address</label>
            <div class="input-group">
              <i class="bi bi-envelope"></i>
              <input type="email" formControlName="emailId" placeholder="Enter email address"
                [disabled]="isMicrosoftLogin" />
            </div>
            <small *ngIf="isFieldRequired('emailId')" class="error">Email is required.</small>
            <small *ngIf="isEmailInvalid()" class="error">Enter a valid email address.</small>

            <label>Phone Number</label>
            <div class="input-group">
              <i class="bi bi-telephone"></i>
              <input type="tel" formControlName="contactNo" placeholder="Enter phone number" inputIntegerValidator />
            </div>
            <small *ngIf="isFieldRequired('contactNo')" class="error">Phone number is required.</small>

            <label>Organisation</label>
            <ng-select [items]="filteredOrganisations" bindLabel="organisation" bindValue="organisation"
              [searchable]="true" placeholder="Search your organisation..." formControlName="organisation"
              (search)="onSearchOrganisation($event)">
            </ng-select>
            <small *ngIf="isFieldRequired('organisation')" class="error">Organisation is required.</small>

            <label>Designation</label>
            <div class="input-group">
              <i class="bi bi-briefcase"></i>
              <input type="text" formControlName="designation" placeholder="Enter your designation" />
            </div>
            <small *ngIf="isFieldRequired('designation')" class="error">Designation is required.</small>

            <button type="submit" class="submit-btn" [disabled]="!signUpForm.valid">Sign Up</button>
            <p class="redirect">Already have an account? <a routerLink="/auth/login">Log In</a></p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="spinner" *ngIf="loadSpinner">Loading...</div>
</div>