<div class="header d-flex bd-highlight">
  <div class="mt-3 ms-3">
    <img src="../../../assets/images/diplogo.png" class="full-logo" />
  </div>
</div>
<div class="container">
  <div
    class="row justify-content-center align-items-center"
    style="height: 100vh"
  >
    <div class="col-md-6">
      <div class="card shadow">
        <div class="text-center password-header mb-2 pt-4">
          Set New Password
        </div>
        <div class="card-body">
          <form [formGroup]="newPasswordForm">
            <div class="input-field-login mt-3 position-relative">
              <input
                [type]="showNewPassword ? 'text' : 'password'"
                class="form-control"
                placeholder="Enter New Password"
                formControlName="newPassword"
              />
              <img
                src="assets/images/icons/viewPassword.svg"
                alt="Toggle Password"
                (click)="showNewPassword = !showNewPassword"
                style="
                  position: absolute;
                  top: 50%;
                  right: 10px;
                  transform: translateY(-50%);
                  width: 12px;
                  height: 12px;
                  cursor: pointer;
                "
              />
            </div>

            <small class="text-danger" *ngIf="isFieldRequired('newPassword')">
              New password is required.
            </small>
            <small
              class="text-danger"
              *ngIf="
                newPasswordForm.get('newPassword')?.hasError('minLength') &&
                newPasswordForm.get('newPassword')?.touched
              "
            >
              Password must be at least 6 characters.
            </small>
            <small
              class="text-danger"
              *ngIf="
                newPasswordForm
                  .get('newPassword')
                  ?.hasError('invalidCombination') &&
                (newPasswordForm.get('newPassword')?.touched ||
                  newPasswordForm.get('newPassword')?.dirty)
              "
            >
              Password should include a special character, uppercase letter, and
              number.
            </small>
          </form>
          <div class="text-center mt-4">
            <button
              (click)="submit()"
              [disabled]="!newPasswordForm.valid"
              type="button"
              class="password-button mb-3"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
      <div class="text-center mt-2" style="cursor: pointer">
        <p>
          <span (click)="onBackSignUp()" class="pointer"
            ><img src="assets/images/icons/left-angle.svg" alt="" width="6px" />
            Back</span
          >
        </p>
      </div>
    </div>
  </div>
</div>
<app-loader *ngIf="loadSpinner"></app-loader>
